{% extends "base.html" %}
{% block content %}
<section class="card" style="padding:20px;max-width:800px;margin:0 auto">
  <h2>Edit Post</h2>
  <form method="post" style="margin-top:12px">
    <label style="display:block;margin-bottom:10px">
      <div><strong>Title</strong></div>
      <input name="title" required maxlength="200" value="{{ post.title }}" style="width:100%;margin-top:6px">
    </label>
    <label style="display:block;margin-bottom:12px">
      <div><strong>Content</strong></div>
      <textarea name="content" rows="10" required style="width:100%;margin-top:6px">{{ post.content_raw }}</textarea>
    </label>
    <div style="display:flex;gap:10px;flex-wrap:wrap">
      <button class="btn green">Save Changes</button>
      <a href="{{ url_for('view_post', pid=post.id) }}" class="btn ghost">Cancel</a>
      <span style="flex:1"></span>
      <form method="post" action="{{ url_for('delete_post', pid=post.id) }}" onsubmit="return confirm('Delete this post?')">
        <button class="btn red">Delete</button>
      </form>
    </div>
  </form>
</section>
{% endblock %}